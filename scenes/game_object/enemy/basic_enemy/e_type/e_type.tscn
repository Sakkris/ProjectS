[gd_scene load_steps=11 format=3 uid="uid://x3j86vdkoepb"]

[ext_resource type="PackedScene" uid="uid://ciowisqs1ayti" path="res://scenes/game_object/enemy/basic_enemy/enemy_drone.tscn" id="1_8bk67"]
[ext_resource type="Script" path="res://scenes/game_object/enemy/basic_enemy/e_type/e_type.gd" id="2_6k27b"]
[ext_resource type="Script" path="res://addons/beehave/nodes/composites/selector.gd" id="2_6vds8"]
[ext_resource type="PackedScene" uid="uid://5sd8an8bku8m" path="res://scenes/game_object/enemy/basic_enemy/common_action_leafs/get_in_range.tscn" id="2_jo3bw"]
[ext_resource type="Script" path="res://addons/beehave/nodes/decorators/inverter.gd" id="3_fg3ge"]
[ext_resource type="PackedScene" uid="uid://dui880u3bqfvx" path="res://scenes/game_object/enemy/basic_enemy/common_action_leafs/is_player_in_attack_range.tscn" id="5_xovel"]
[ext_resource type="PackedScene" uid="uid://do8u2i5w4d44j" path="res://scenes/game_object/enemy/basic_enemy/common_action_leafs/is_obstacle_between.tscn" id="6_dv60l"]
[ext_resource type="Script" path="res://scenes/game_object/enemy/basic_enemy/e_type/prepare_dash.gd" id="7_ey2ii"]
[ext_resource type="Script" path="res://scenes/game_object/enemy/basic_enemy/e_type/dash_to_player.gd" id="7_pjsmf"]

[sub_resource type="SphereShape3D" id="SphereShape3D_d3fre"]
radius = 1.12959

[node name="EType" instance=ExtResource("1_8bk67")]
collision_layer = 12
collision_mask = 7
script = ExtResource("2_6k27b")
die_on_dash = true

[node name="VelocityComponent" parent="." index="0"]
max_speed = 7.5
max_overloaded_speed = 10.0
acceleration_coeficient = 2.0
turn_speed = 2.0

[node name="BeehaveTree" parent="." index="1"]
enabled = false
actor_node_path = NodePath("..")

[node name="SelectorComposite2" type="Node" parent="BeehaveTree" index="0"]
script = ExtResource("2_6vds8")

[node name="InverterDecorator" type="Node" parent="BeehaveTree/SelectorComposite2" index="0"]
script = ExtResource("3_fg3ge")

[node name="AttackComposite" type="Node" parent="BeehaveTree/SelectorComposite2/InverterDecorator" index="0"]
script = ExtResource("2_6vds8")

[node name="InverterDecorator" type="Node" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite" index="0"]
script = ExtResource("3_fg3ge")

[node name="IsPlayerInAttackRange" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite/InverterDecorator" index="0" instance=ExtResource("5_xovel")]

[node name="IsObstacleBetween" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite" index="1" instance=ExtResource("6_dv60l")]

[node name="PrepareDash" type="Node" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite" index="2"]
script = ExtResource("7_ey2ii")

[node name="Timer" type="Timer" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite/PrepareDash" index="0"]
wait_time = 3.0
one_shot = true

[node name="DashToPlayer" type="Node" parent="BeehaveTree/SelectorComposite2/InverterDecorator/AttackComposite" index="3"]
script = ExtResource("7_pjsmf")

[node name="GetInRange" parent="BeehaveTree/SelectorComposite2" index="1" instance=ExtResource("2_jo3bw")]

[node name="MeshInstance3D" parent="." index="2"]
skeleton = NodePath("")

[node name="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="Hurtbox" parent="." index="4"]
collision_layer = 4
collision_mask = 64

[node name="CollisionShape3D" parent="Hurtbox" index="0"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 0, 0, 0)

[node name="ExplosionRadius" type="Area3D" parent="." index="5"]
collision_layer = 128
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="ExplosionRadius" index="0"]
shape = SubResource("SphereShape3D_d3fre")
disabled = true
